# GhostLink Environment Configuration
# Copy this file to .env and configure for your environment

# =============================================================================
# BASIC CONFIGURATION
# =============================================================================

# Domain for your GhostLink deployment
DOMAIN=glink.cktechx.com

# Logging level (trace, debug, info, warn, error)
LOG_LEVEL=info

# Brand customization
BRAND_NAME="Your Company Remote Access"
SUPPORT_EMAIL=support@yourcompany.com

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# PostgreSQL database password (change this!)
DB_PASSWORD=ghostlink2024!

# Redis password for session storage (change this!)
REDIS_PASSWORD=redis2024!

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================

# JWT secret for token signing (generate a strong random key!)
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production

# Session secret for web sessions (generate a strong random key!)
SESSION_SECRET=session-secret-key-change-this

# =============================================================================
# MICROSOFT ENTRA ID (AZURE AD) OIDC CONFIGURATION
# =============================================================================

# Get these values from your Azure AD app registration
OIDC_CLIENT_ID=your-azure-ad-client-id
OIDC_CLIENT_SECRET=your-azure-ad-client-secret
OIDC_TENANT_ID=your-azure-ad-tenant-id

# This will be automatically constructed as: https://${DOMAIN}/api/auth/callback
# Make sure this matches your Azure AD redirect URI configuration

# =============================================================================
# VPN INTEGRATION (OPTIONAL)
# =============================================================================

# Tailscale configuration (optional - for VPN-only access mode)
TAILSCALE_AUTH_KEY=tskey-auth-your-tailscale-auth-key

# WireGuard private key (optional - for WireGuard integration)
WIREGUARD_PRIVATE_KEY=your-wireguard-private-key

# =============================================================================
# MONITORING (OPTIONAL)
# =============================================================================

# Grafana admin password (only used if monitoring profile is enabled)
GRAFANA_PASSWORD=admin

# =============================================================================
# SSL/TLS CONFIGURATION
# =============================================================================

# SSL certificate configuration (for nginx)
# Using your cktechx.com certificates
SSL_CERT_PATH=/etc/nginx/certs/cktechx.com/fullchain.pem
SSL_KEY_PATH=/etc/nginx/certs/cktechx.com/privkey.pem

# Let's Encrypt email for automatic certificate generation (if using certbot)
LETSENCRYPT_EMAIL=admin@yourcompany.com

# =============================================================================
# DEPLOYMENT PROFILES
# =============================================================================

# Available Docker Compose profiles:
# - default: Core GhostLink services (ghostlink, postgres, redis, nginx)
# - vpn: Include Tailscale sidecar for VPN integration
# - monitoring: Include Prometheus and Grafana for monitoring
#
# Example usage:
# docker-compose --profile vpn --profile monitoring up -d

# =============================================================================
# ADVANCED CONFIGURATION
# =============================================================================

# Custom NGINX configuration
NGINX_WORKER_PROCESSES=auto
NGINX_WORKER_CONNECTIONS=1024

# Database connection pool settings
DATABASE_MAX_CONNECTIONS=10
DATABASE_MIN_CONNECTIONS=1

# Redis configuration
REDIS_MAX_CONNECTIONS=10

# Session timeout (in seconds)
SESSION_TIMEOUT=28800  # 8 hours

# File upload limits
MAX_UPLOAD_SIZE=100M

# Terminal session timeout (in seconds)
TERMINAL_SESSION_TIMEOUT=3600  # 1 hour

# PAM audit log retention (in days)
PAM_AUDIT_RETENTION_DAYS=90

# Toolbox storage limit (in MB)
TOOLBOX_STORAGE_LIMIT=1024  # 1GB

# =============================================================================
# DEVELOPMENT SETTINGS (DO NOT USE IN PRODUCTION)
# =============================================================================

# Disable HTTPS redirect (development only)
# NGINX_DISABLE_HTTPS=true

# Enable debug mode (development only)
# DEBUG_MODE=true

# Disable OIDC authentication (development only)
# DISABLE_AUTH=true